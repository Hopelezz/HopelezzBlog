---
import Search from '../components/search/Search';
import {getSearchData} from '../utils/api.astro';
import Dark from '../components/darkmode.astro';

const posts = await getSearchData();
---

<div class="nav" id="nav">
    <div class="logoContainer">
        <a href="/" class="logo">
            <!-- <img src='../assets/LOGO.svg' width={90} height={90} alt='Logo' /> -->
            <h2 class='brand'>&lt;BLACKSKIES &#47;&gt;</h2>
        </a>
    </div>
    <div class="searchContainer">
        <Search  client:load posts={posts} />
    </div>
    <div class="menu">
        <ul class="hamburger">
            <i class="fa-duotone fa-angles-down"></i>
            <li><a href="/">Home</a></li>
            <li><a href="#">About</a></li>
            <li><a href="/HireMe">Hire Me</a></li>
            <li>
                <Dark />
            </li>
        </ul>
    </div>
</div>

<script>
    window.onscroll = function() {myFunction()};

    var nav = document.getElementById("nav");
    var sticky = nav.offsetTop;

    function myFunction() {
      if (window.pageYOffset >= sticky) {
        nav.classList.add("sticky")
      } else {
        nav.classList.remove("sticky");
      }
    }
</script>

<style>
/*-------------------Start Navbar-------------------*/
.nav {
    position: fixed;
    width: 100%;
    height: 60px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    background-color: var(--surface3);
    box-shadow: var(--shadow-2);
    z-index: 1;
}

.logo{
    line-height: 60px;
    white-space: nowrap;
}

.logoContainer {
    display: flex;
    align-items: center;
}

h2 a{
    text-decoration: none;
    color: var(--brand);
}


/*----------------Menu---------------*/
/* Hidden till smaller window */
.fa-angles-down{
    display: none;
}

.menu, .hamburger{
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 20px;
    font-size: 1.2rem;
    font-weight: bold;
    line-height: 3rem;
}

.menu ul li{
    display: inline-block;
    padding-left: 1.5rem;
}

.menu ul li a{
    text-decoration: none;
}

.menu ul .active{
    font-weight: 600;
}

@media (max-width: 930px) {
    .menu{
        height: 100%;
        /* width: 100%; */
    }
    .hamburger{
        display: none;
    }
    .nav{
        display: flex;
        justify-content: space-between;
    }
}
@media (max-width:560px) {
    .logoContainer{
        display: none;
    }
}



/* Make radio buttons and check boxes larger if we have an inaccurate pointing device */
@media (pointer:coarse) {
    input[type="checkbox"], input[type="radio"] {
        min-width:30px;
        min-height:40px;
        background:transparent;
    }
}

</style>