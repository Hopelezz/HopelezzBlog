---
export async function getBlogPosts(){
    // Data Fetching: List all Markdown Blog posts in the repo.
    let allBlogPosts = await Astro.glob('../pages/blog/*.md');

    allBlogPosts = allBlogPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());

    let mostRecentBlogPost = allBlogPosts[0];

    return { allBlogPosts, mostRecentBlogPost }
}

export async function getBookPosts(){    
    // Data Fetching: List all Markdown Book posts in the repo.
    let allBookPosts = await Astro.glob('../pages/book/*.md');

    allBookPosts = allBookPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());

    let mostRecentBookPost = allBookPosts[0];

    return { allBookPosts, mostRecentBookPost }
}

export async function getPosts(){
    // Data Fetching: List all Markdown posts in the page routes.
    let allPosts = await Astro.glob('../pages/**/*.md');

    allPosts = allPosts.sort((a, b) => new Date(b.frontmatter.publishDate).valueOf() - new Date(a.frontmatter.publishDate).valueOf());
    
    return { allPosts };
}

---